


$profile_json = "{
    accessToken:  'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6ImppYk5ia0ZTU2JteFBZck45Q0ZxUms0SzRndyIsImtpZCI6ImppYk5ia0ZTU2JteFBZck45Q0ZxUms0SzRndyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9jNjVhM2VhNi0wZjdjLTQwMGItODkzNC01YTZkYzE3MDU2NDUvIiwiaWF0IjoxNTk5MDc3NDUzLCJuYmYiOjE1OTkwNzc0NTMsImV4cCI6MTU5OTA4MTM1MywiYWNyIjoiMSIsImFpbyI6IkFTUUEyLzhRQUFBQW1PZE9kWmVVM01jZGhWaUNuWmdGNmI0K2xjVHhvY1V0WUplUVJxeUhrcVU9IiwiYW1yIjpbInB3ZCJdLCJhcHBpZCI6IjA0YjA3Nzk1LThkZGItNDYxYS1iYmVlLTAyZjllMWJmN2I0NiIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiQ29ycmVhIEdvbnrDoWxleiIsImdpdmVuX25hbWUiOiJDaGFpbSIsImdyb3VwcyI6WyI0YTJjY2ViMC05ODgzLTRhZmYtYTAwNy01MjNjOGQzNjg3MDgiLCJjYzFiMzViOC01NzRmLTRjMWItYTJlNy0yZDRjMjJkZWQ2MmUiLCI3NjNlNTZhZC0zMTM2LTRmZDEtOTc4ZS1hZWRkYzM4NWFiN2YiLCIwZjFmYjQ4Yy0xMmI1LTQ4YjUtYmI4NS0yZTE3OGY4MmNlYTAiLCJlMWE4NmUwNS00OTA5LTQxZWEtOTFmNy1mODQyYmQ0MmFmZWIiLCJjN2NmZmFmZi1jMjYzLTQ3NDAtOWM1ZS1mMTQ1MzVjOTg4YmMiLCI5ZjdkYzk3Mi0xNmRhLTRiZDEtODk4OC01NzQ4MDA4MjNiNWYiLCI4MTMwMTA0Yy0xM2E3LTQ4ZTktOWFhMS0xMDI4NGY3ZGI2ZmIiLCJjM2Q2ZmJjYi04ZDVhLTQyZjYtYTQ1OS1mMDUxOWZlOWIzZTkiLCIwY2U2OTFjMC04YzYxLTRhMTMtOGI3Mi0zZWNiNzczODc3ZGIiLCJhNjc4OTIyMC00ZGU0LTRlM2QtODkyZC0yNzllN2RhNGE5OGYiLCJiMjI1YWUyMC0yNmRkLTRlNjgtYjYwZi04MTI0Y2Y2ZjRkZDIiLCIwMmM0NzAxYS0yYWQ0LTRiODAtYjU5YS1mYjNlMzI1OTNiNDQiLCJjZWI3MzdjYi1jYzI2LTQxYzQtODcwOC0wM2M3NjAwYmNlZWIiLCJmNTdjMTNlMC00N2M2LTRiNDktOGQ2Yy0zYTc3OTRlOWMwZWEiLCJiNjAwMmMxMi1mMDQxLTQ3YjktYTk1YS0yZTFmZWQwNWUwYzUiLCI3ZThmZTUzYi02Zjc4LTRkMmQtOWI4OC1jNzcyZTI2ZjVkMjUiLCIzY2FlMzVhYi0yY2Y1LTRjYjgtYjExMC05MjgyMjllZTVhZDciLCJjMTIxYjk2Ny1kY2I3LTRjOWUtYTlmMy0yODZhMDdmOWZiZWYiXSwiaXBhZGRyIjoiMTc3LjIyNS4xNTAuMTAxIiwibmFtZSI6IkNoYWltIENvcnJlYSBHb256w6FsZXoiLCJvaWQiOiIxNGE1OGQ5OC1mMjk5LTRlNzMtYWY2NS0yZDQwMmQ2NTc3MjciLCJvbnByZW1fc2lkIjoiUy0xLTUtMjEtMTcwODUzNzc2OC01NzM3MzU1NDYtNzI1MzQ1NTQzLTEyNjA5MzgiLCJwdWlkIjoiMTAwMzIwMDA4NzRDQjFDNCIsInJoIjoiMC5BQUFBcGo1YXhud1BDMENKTkZwdHdYQldSWlYzc0FUYmpScEd1LTRDLWVHX2UwWlhBQ1UuIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiemNKYW1laUd5T0pKYk1SQk5iOUJUN2NZTk5MUzhpT1d2UWdKMm0yVzdiTSIsInRpZCI6ImM2NWEzZWE2LTBmN2MtNDAwYi04OTM0LTVhNmRjMTcwNTY0NSIsInVuaXF1ZV9uYW1lIjoiY2hhaW1jZ0B0ZWMubXgiLCJ1cG4iOiJjaGFpbWNnQHRlYy5teCIsInV0aSI6InByZldYYlByeFVXNHZxTWJqamNQQUEiLCJ2ZXIiOiIxLjAiLCJ4bXNfdGNkdCI6MTM2MTk3ODU4NX0.UTks2iX505Cgj_-82N0k7zAE1BrQNWdC53fV85RoL6xc-MRNVpDVTkXaOTHfO46k7dthzYHpM_3zoW-r61-x2Vu2v_eY8F_-WuPG_06doEAKd09QPwNaaszzFceBiDq_MPISaxNOCKVdJOu8k5m3X6gCmnS6V_Pkm9bvr2jOXKMaceLKeosA73pWcfj3f_cvyIUogD9VUDQRxwEsGbHM8eQBqWlsCzSf9Y-_Y2IA9dOQtJsBC4z3TlQvGM1d317raoAfofpu7ruYxTVTQjse4Oc22Jq4A8-kOD2biPnS8iczVa7xCum9GP91VAlaXqPDTaAq8PuLGLexj5FF751FfA',
    name:  'CH-borrar-test4',
    environment:  'Composer',
    hostname:  'CH-borrar-test4',
    luisResource:  'CH-LUIS-MANUAL',
    settings:  {
                     luis:  {
                                  endpointKey:  '7c309b83ed5c40a39cf78917c344fcec',
                                  authoringKey:  '913e224bb7584bfa85190ea7bbaa002b',
                                  region:  'westus'
                              },
                     MicrosoftAppId:  '11ed3c32-3860-472c-8107-6d7dd687b260',
                     MicrosoftAppPassword:  '1_CS54G-C*SF'
                 }
}"

# Convirtiendo a Objeto
$myobject = $profile_json | ConvertFrom-Json

# Convirtiendo a JSON comprimido
$json_string_compress = $myobject | ConvertTo-Json -Compress
# $json_string_compress = $json_string -replace '"', '\"'

# Leyendo el archivo
$ruta_composer = "D:\5) Entregables\E17 Servicios Cognitivos\E17_3 Bots\2) Composer\202008_ChatBotTec\ch_codigo\Luis-Publicar\settings"
$string_response = Get-Content -Path "$ruta_composer\appsettings.json" -Raw | ConvertFrom-Json

# Modificando el json
($string_response.publishTargets | where {$_.name -eq "sss"}).configuration = $json_string_compress

# Escribiendo el json
$string_response | ConvertTo-Json -depth 32| set-content 'test____.json'



